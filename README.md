# Sentinel-Android

> ðŸ›¡ï¸ **Sentinel** æ˜¯ä¸€æ¬¾ **åŸºäºŽ Rootï¼ˆMagiskï¼‰æƒé™çš„ Android è¿›ç¨‹å®ˆæŠ¤ä¸ŽåŽå°ç®¡ç†å·¥å…·**ï¼Œé¢å‘é«˜çº§ç”¨æˆ·ä¸Žå¼€å‘è€…ï¼Œç”¨äºŽ **ç²¾å‡†æ‰«æã€åˆ†æžå¹¶æŽ§åˆ¶çœŸå®žå­˜æ´»çš„åº”ç”¨è¿›ç¨‹**ã€‚

å®ƒä¸æ˜¯ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„ã€Œæ¸…ç†å¤§å¸ˆã€æˆ–ã€Œä»»åŠ¡æ€æ‰‹ã€ï¼Œè€Œæ˜¯ä¸€ä¸ª **å°Šé‡ Android ç³»ç»Ÿæœºåˆ¶ã€ä»¥å®‰å…¨ä¸Žå¯æŽ§ä¸ºæ ¸å¿ƒè®¾è®¡ç›®æ ‡çš„åŽå°æ²»ç†å·¥å…·**ã€‚

---

## âœ¨ é¡¹ç›®å®šä½

* âœ… **Root-onlyï¼ˆåŸºäºŽ Magisk suï¼‰**
* âœ… é¢å‘ **å¼€å‘è€… / é«˜çº§ç”¨æˆ· / ROM çŽ©å®¶**
* âœ… å·¥ä½œåœ¨ **Linux è¿›ç¨‹å±‚ï¼ˆ/procï¼‰**ï¼Œè€Œéžå—é™çš„ Framework API
* âŒ ä¸åšè¯¯å¯¼æ€§çš„â€œä¸€é”®åŠ é€Ÿâ€
* âŒ ä¸åšæ— å·®åˆ«æ€è¿›ç¨‹

> Sentinel çš„ç›®æ ‡æ˜¯ï¼š
> **è®©ä½ çœŸæ­£çŸ¥é“ç³»ç»Ÿé‡Œâ€œæ´»ç€çš„æ˜¯ä»€ä¹ˆâ€ï¼Œå¹¶åªå¯¹â€œä½ æ˜Žç¡®ä¸éœ€è¦çš„ä¸œè¥¿â€åŠ¨æ‰‹ã€‚**

---

## ðŸ§  æ ¸å¿ƒèƒ½åŠ›

### 1ï¸âƒ£ çœŸå®žè¿›ç¨‹æ‰«æ

* åŸºäºŽ `/proc` æ–‡ä»¶ç³»ç»Ÿæ‰«æ
* èŽ·å–ï¼š

  * PID / UID
  * çœŸå®ž cmdline
  * å¯¹åº”åº”ç”¨åŒ…åï¼ˆå°½å¯èƒ½æ˜ å°„ï¼‰
* ä¸ä¾èµ– `ActivityManager`ï¼ˆè§„é¿ Android 8+ çš„ API é™åˆ¶ï¼‰

### 2ï¸âƒ£ åº”ç”¨çº§åŽå°æŽ§åˆ¶ï¼ˆå®‰å…¨ç­–ç•¥ï¼‰

* é¦–é€‰ `am force-stop`ï¼ˆç­‰ä»·ç³»ç»Ÿâ€œå¼ºåˆ¶åœæ­¢â€ï¼‰
* æ”¯æŒ UID / PID çº§å…œåº•ç»ˆæ­¢
* å†…ç½® **ç³»ç»Ÿç™½åå•**ï¼Œé¿å…è¯¯æ€å…³é”®æœåŠ¡

### 3ï¸âƒ£ Root æ‰§è¡ŒæŠ½è±¡å±‚

* ç»Ÿä¸€å°è£… `su` è°ƒç”¨
* å…¼å®¹ Magisk æŽˆæƒæ¨¡åž‹
* å¯æŽ§ã€å¯å®¡è®¡ã€æ˜“æ‰©å±•

---

## ðŸ” ä¸ºä»€ä¹ˆéœ€è¦ Rootï¼Ÿ

Android åœ¨è¿‘å‡ ä¸ªç‰ˆæœ¬ä¸­å¯¹åŽå°è¡Œä¸ºåšäº†å¤§é‡é™åˆ¶ï¼š

* `getRunningAppProcesses()` ä¸å†å¯ä¿¡
* åŽå° App çŠ¶æ€è¢«åˆ»æ„éšè—
* æ™®é€š App **æ— æ³•åˆ¤æ–­çœŸå®žå­˜æ´»è¿›ç¨‹**

Sentinel é€‰æ‹© **å°Šé‡äº‹å®žï¼Œè€Œä¸æ˜¯è¢«é™åˆ¶çš„è§†å›¾**ï¼š

> åªè¦ä¸€ä¸ªè¿›ç¨‹çœŸå®žå­˜åœ¨äºŽç³»ç»Ÿä¸­ï¼Œå®ƒå°±ä¸€å®šå­˜åœ¨äºŽ `/proc`ã€‚

Root å¹¶ä¸æ˜¯ä¸ºäº†â€œä¸ºæ‰€æ¬²ä¸ºâ€ï¼Œè€Œæ˜¯ä¸ºäº† **èŽ·å¾—çœŸå®žä¿¡æ¯ + ä»¥ç³»ç»Ÿè®¤å¯çš„æ–¹å¼æŽ§åˆ¶è¡Œä¸º**ã€‚

---

## âš ï¸ è®¾è®¡åŽŸåˆ™ï¼ˆéžå¸¸é‡è¦ï¼‰

* âŒ ä¸ä¸»åŠ¨å¹²é¢„å‰å°åº”ç”¨

* âŒ ä¸æ¸…ç†ç³»ç»Ÿå…³é”®è¿›ç¨‹

* âŒ ä¸åšé«˜é¢‘ã€å®šæ—¶â€œåŽå°æ¨ªæ‰«â€

* âœ… æ˜Žç¡®ç™½åå•æœºåˆ¶

* âœ… ç”¨æˆ·å¯æŽ§ã€å¯é¢„æœŸ

* âœ… æ‰€æœ‰é«˜å±æ“ä½œéƒ½å¿…é¡»æ˜¾å¼è§¦å‘

Sentinel æ›´åƒä¸€ä¸ª **ç³»ç»Ÿå“¨å…µï¼ˆSentinelï¼‰**ï¼Œè€Œä¸æ˜¯æ¸…é“å¤«ã€‚

---

## ðŸ§© æŠ€æœ¯æ ˆ

* Kotlin
* Android SDK
* Magiskï¼ˆsuï¼‰
* Linux `/proc` / `ps` / `am` å·¥å…·é“¾

UI å±‚ä¸Žç³»ç»ŸæŽ§åˆ¶é€»è¾‘ä¸¥æ ¼è§£è€¦ï¼Œä¾¿äºŽåŽç»­æ¼”è¿›ä¸ºï¼š

* åŽå°é™åˆ¶å™¨
* wakelock / job ç®¡ç†å™¨
* æˆ– Magisk Module

---

## ðŸ“¦ é¡¹ç›®ç»“æž„ï¼ˆæ¦‚è§ˆï¼‰

```
sentinel-android/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ root/           # su / root æ‰§è¡Œå°è£…
â”‚   â”œâ”€â”€ process/        # è¿›ç¨‹æ‰«æä¸Žæ¨¡åž‹
â”‚   â”œâ”€â”€ policy/         # ç™½åå• / æ¸…ç†ç­–ç•¥
â”‚   â””â”€â”€ ui/             # åº”ç”¨ç•Œé¢ï¼ˆå¯é€‰ï¼‰
â””â”€â”€ README.md
```

---

## ðŸš§ å½“å‰çŠ¶æ€

* [x] Root æŽˆæƒæ£€æµ‹ï¼ˆMagiskï¼‰
* [x] `/proc` è¿›ç¨‹æ‰«æ
* [x] force-stop / kill ç­–ç•¥
* [ ] UI è¿›ç¨‹åˆ—è¡¨
* [ ] ç™½åå•ç®¡ç†ç•Œé¢
* [ ] ä½¿ç”¨åœºæ™¯åŒ–è§¦å‘ï¼ˆé”å± / æ¸¸æˆæ¨¡å¼ï¼‰

---

## âš ï¸ å…è´£å£°æ˜Ž

> æœ¬é¡¹ç›®ä»…ä¾› **å­¦ä¹ ã€ç ”ç©¶ä¸Žé«˜çº§ç”¨æˆ·è‡ªç”¨**ã€‚

* ä½¿ç”¨ Sentinel é€ æˆçš„ä»»ä½•ç³»ç»Ÿå¼‚å¸¸ã€æ•°æ®ä¸¢å¤±æˆ–ç¨³å®šæ€§é—®é¢˜ï¼Œ
  **éœ€ç”±ä½¿ç”¨è€…è‡ªè¡Œæ‰¿æ‹…é£Žé™©**ã€‚
* è¯·å‹¿åœ¨ä¸ç†è§£ Android ç³»ç»Ÿæœºåˆ¶çš„å‰æä¸‹ä½¿ç”¨ã€‚

---

## ðŸ“„ License

MIT License

---

## ðŸ¤ è‡´è°¢

* Android Open Source Project
* Magisk
* æ‰€æœ‰æ„¿æ„å°Šé‡ç³»ç»ŸåŽŸç†è€Œä¸æ˜¯â€œçŽ„å­¦ä¼˜åŒ–â€çš„å¼€å‘è€…

---

> **Sentinel** â€”â€” ä¸æ˜¯ä¸ºäº†æ›´å¿«ï¼Œè€Œæ˜¯ä¸ºäº†æ›´æ¸…æ¥šã€‚   
> â€”â€”ChatGPT
